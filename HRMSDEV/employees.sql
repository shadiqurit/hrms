/* Formatted on 9/26/2024 8:53:46 AM (QP5 v5.227.12220.39754) */

---Query Data from this table----
CREATE TABLE EMPLOYEES
(
   ID           NUMBER,
   EMP_ID       VARCHAR2 (30 BYTE),
   FIRSTNAME    VARCHAR2 (50 BYTE),
   LASTNAME     VARCHAR2 (50 BYTE),
   DOB          DATE,
   PHONE        VARCHAR2 (30 BYTE),
   EMAIL        VARCHAR2 (30 BYTE),
   HIREDATE     DATE,
   DV_ID        NUMBER,
   DIST_ID      NUMBER,
   UPZ_ID       NUMBER,
   UN_ID        NUMBER,
   ADDRESS      VARCHAR2 (100 BYTE),
   SALARY       NUMBER (10, 2),
   DEPARTMENT   VARCHAR2 (50 BYTE),
   PRJ_ID       NUMBER,
   COM_ID       NUMBER,
   ENT_BY       NUMBER,
   ENT_DATE     DATE,
   UPD_BY       NUMBER,
   UPD_DATE     DATE
);


CREATE OR REPLACE TRIGGER T_EMPLOYEES_PK
   BEFORE INSERT OR UPDATE
   ON EMPLOYEES
   FOR EACH ROW
BEGIN
   IF :new.id IS NULL
   THEN
      SELECT NVL (MAX (id), 0) + 1 INTO :new.id FROM employees;
   END IF;
END t_employees_pk;
/


ALTER TABLE EMPLOYEES ADD (
  CONSTRAINT EMPLOYEES_PK
  PRIMARY KEY
  (ID));
  
SET DEFINE OFF;
Insert into EMPLOYEES
   (ID, EMP_ID, FIRSTNAME, LASTNAME, DOB, 
    PHONE, EMAIL, HIREDATE, DV_ID, DIST_ID, 
    UPZ_ID, UN_ID, ADDRESS, SALARY, DEPARTMENT, 
    PRJ_ID, COM_ID, ENT_BY, ENT_DATE, UPD_BY, 
    UPD_DATE)
 Values
   (1, 'E1', 'Eng.Md Hridoy', 'sheikh', TO_DATE('01/01/1994 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), 
    '+8801994706472', NULL, TO_DATE('01/23/2024 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), 8, 63, 
    477, NULL, 'setabgong', 14000, NULL, 
    2, 1, 1, TO_DATE('03/22/2024 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), NULL, 
    NULL);
Insert into EMPLOYEES
   (ID, EMP_ID, FIRSTNAME, LASTNAME, DOB, 
    PHONE, EMAIL, HIREDATE, DV_ID, DIST_ID, 
    UPZ_ID, UN_ID, ADDRESS, SALARY, DEPARTMENT, 
    PRJ_ID, COM_ID, ENT_BY, ENT_DATE, UPD_BY, 
    UPD_DATE)
 Values
   (3, 'E3', 'Eng . Md sakir ', 'Hossain ', TO_DATE('01/01/1990 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), 
    '01647-310657', NULL, TO_DATE('01/23/2024 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), 8, 61, 
    457, NULL, 'Fulbari', 13000, NULL, 
    1, 1, 1, TO_DATE('05/01/2024 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), NULL, 
    NULL);
Insert into EMPLOYEES
   (ID, EMP_ID, FIRSTNAME, LASTNAME, DOB, 
    PHONE, EMAIL, HIREDATE, DV_ID, DIST_ID, 
    UPZ_ID, UN_ID, ADDRESS, SALARY, DEPARTMENT, 
    PRJ_ID, COM_ID, ENT_BY, ENT_DATE, UPD_BY, 
    UPD_DATE)
 Values
   (4, 'E4', 'Eng. Md jakir', 'Hossain', TO_DATE('10/01/1990 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), 
    '+8801617638330', NULL, TO_DATE('05/06/2023 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), 8, 61, 
    457, NULL, 'Fulbari + Nobabgonj', NULL, NULL, 
    3, 1, 1, TO_DATE('05/01/2024 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), NULL, 
    NULL);
Insert into EMPLOYEES
   (ID, EMP_ID, FIRSTNAME, LASTNAME, DOB, 
    PHONE, EMAIL, HIREDATE, DV_ID, DIST_ID, 
    UPZ_ID, UN_ID, ADDRESS, SALARY, DEPARTMENT, 
    PRJ_ID, COM_ID, ENT_BY, ENT_DATE, UPD_BY, 
    UPD_DATE)
 Values
   (2, 'E2', 'Eng.Md maruf ', ' hossain', TO_DATE('01/01/1994 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), 
    '+8801753605271', NULL, TO_DATE('05/06/2023 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), 8, 63, 
    479, NULL, 'kaharole', 15000, NULL, 
    4, 1, 1, TO_DATE('04/29/2024 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), NULL, 
    NULL);
COMMIT;




------Save Data into this table ----------

CREATE TABLE EMP
(
  EMPNO     NUMBER(10),
  ENAME     VARCHAR2(100 BYTE),
  MGR       VARCHAR2(50 BYTE),
  HIREDATE  DATE,
  JOB       VARCHAR2(100 BYTE),
  SAL       NUMBER(20,2),
  COMM      NUMBER(20),
  DEPTNO    NUMBER(10)
);


CREATE OR REPLACE TRIGGER T_EMPSS_PK
   BEFORE INSERT OR UPDATE
   ON EMP
   FOR EACH ROW
BEGIN
   IF :new.empno IS NULL
   THEN
      SELECT NVL (MAX (empno), 0) + 1 INTO :new.empno FROM emp;
   END IF;
END T_empSS_PK;
/
